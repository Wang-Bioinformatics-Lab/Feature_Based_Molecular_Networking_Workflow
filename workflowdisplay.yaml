name: feature_based_molecular_networking_workflow
displayname: STUFF
Views:
-   name: Cluster Summary
    displayname: Cluster Summary
    viewname: clustersummary
    displaytype: datatable
    parameters:
        filename: nf_output/networking/clustersummary_with_network.tsv
        columns:
            -   title: "Cluster"
                data: "cluster index"
            -   title: "Parent mass"
                data: "parent mass"
            -   title: "# spectra"
                data: "number of spectra"


-   name: Library Results
    displayname: Library Results
    viewname: librarymatches
    displaytype: datatable
    parameters:
        filename: nf_output/library/merged_results_with_gnps.tsv
        columns:
            -   title: "#Scan#"
                data: "#Scan#"
            -   title: "Compound_Name"
                data: "Compound_Name"
            -   title: "MQScore"
                data: "MQScore"
    
-   name: Pairs List
    displayname: Pairs List
    viewname: pairslist
    displaytype: datatable
    parameters:
        filename: nf_output/networking/filtered_pairs.tsv
        columns:
            -   title: "View"
                data: 
            -   title: "CLUSTERID1"
                data: CLUSTERID1
            -   title: "CLUSTERID2"
                data: CLUSTERID2
            -   title: "DeltaMZ"
                data: DeltaMZ
            -   title: "DeltaMZ"
                data: DeltaMZ
            -   title: "Cosine"
                data: Cosine
            -   title: "MatchedPeaks"
                data: MatchedPeaks
-   name: section
    displayname: Network Visualizations
    viewname: section
    displaytype: section

-   name: Visualize Network in Browser
    displayname: Visualize Full Network in Browser
    viewname: visualizefullnetwork
    displaytype: linkout
    parameters:
        baseurl: /dashboards/networkviewer
        urlparam:
            -   usi:mzdata:OMETATASK-[task]:nf_output/networking/network.graphml
            -   usi-mgf:mzdata:OMETATASK-[task]:nf_output/clustering/specs_ms.mgf

-   name: section
    displayname: Download Network Files
    viewname: section
    displaytype: section

-   name: Download Network GraphML
    displayname: Download Network GraphML
    viewname: graphml
    displaytype: download
    parameters:
        filename: nf_output/networking/network.graphml

-   name: Download Consensus MS/MS MGF
    displayname: Download Consensus MS/MS MGF
    viewname: specms
    displaytype: download
    parameters:
        filename: nf_output/clustering/specs_ms.mgf